/* src/app/globals.css */

@import "tailwindcss/preflight";
@tailwind utilities;

/* Ensure dark variant applies to components inside .dark container */
@custom-variant dark (&:is(.dark *));

/* Body background/foreground set inside @layer base further below using theme tokens. */

@theme inline {

  --radius-sm: calc(var(--radius) - 4px);

  --radius-md: calc(var(--radius) - 2px);

  --radius-lg: var(--radius);

  --radius-xl: calc(var(--radius) + 4px);

  --color-background: var(--background);

  --color-foreground: var(--foreground);

  --color-card: var(--card);

  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);

  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);

  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);

  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);

  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);

  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);

  --color-border: var(--border);

  --color-input: var(--input);

  --color-ring: var(--ring);

  --color-chart-1: var(--chart-1);

  --color-chart-2: var(--chart-2);

  --color-chart-3: var(--chart-3);

  --color-chart-4: var(--chart-4);

  --color-chart-5: var(--chart-5);

  --color-sidebar: var(--sidebar);

  --color-sidebar-foreground: var(--sidebar-foreground);

  --color-sidebar-primary: var(--sidebar-primary);

  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);

  --color-sidebar-accent: var(--sidebar-accent);

  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);

  --color-sidebar-border: var(--sidebar-border);

  --color-sidebar-ring: var(--sidebar-ring);
}

:root {

  --radius: 0.625rem;

  /* Use a subtle light gray background (similar to Tailwind's gray-100) */
  --background: #f3f4f6;

  --foreground: oklch(0.147 0.004 49.25);

  --card: oklch(1 0 0);

  --card-foreground: oklch(0.147 0.004 49.25);

  --popover: oklch(1 0 0);

  --popover-foreground: oklch(0.147 0.004 49.25);

  --primary: oklch(0.216 0.006 56.043);

  --primary-foreground: oklch(0.985 0.001 106.423);

  --secondary: oklch(0.97 0.001 106.424);

  --secondary-foreground: oklch(0.216 0.006 56.043);

  --muted: oklch(0.97 0.001 106.424);

  --muted-foreground: oklch(0.553 0.013 58.071);

  --accent: oklch(0.97 0.001 106.424);

  --accent-foreground: oklch(0.216 0.006 56.043);

  --destructive: oklch(0.577 0.245 27.325);

  --border: oklch(0.923 0.003 48.717);

  --input: oklch(0.923 0.003 48.717);

  --ring: oklch(0.709 0.01 56.259);

  --chart-1: oklch(0.646 0.222 41.116);

  --chart-2: oklch(0.6 0.118 184.704);

  --chart-3: oklch(0.398 0.07 227.392);

  --chart-4: oklch(0.828 0.189 84.429);

  --chart-5: oklch(0.769 0.188 70.08);

  --sidebar: oklch(0.985 0.001 106.423);

  --sidebar-foreground: oklch(0.147 0.004 49.25);

  --sidebar-primary: oklch(0.216 0.006 56.043);

  --sidebar-primary-foreground: oklch(0.985 0.001 106.423);

  --sidebar-accent: oklch(0.97 0.001 106.424);

  --sidebar-accent-foreground: oklch(0.216 0.006 56.043);

  --sidebar-border: oklch(0.923 0.003 48.717);

  --sidebar-ring: oklch(0.709 0.01 56.259);
}

.dark {

  --background: oklch(0.147 0.004 49.25);

  --foreground: oklch(0.985 0.001 106.423);

  --card: oklch(0.216 0.006 56.043);

  --card-foreground: oklch(0.985 0.001 106.423);

  --popover: oklch(0.216 0.006 56.043);

  --popover-foreground: oklch(0.985 0.001 106.423);

  --primary: oklch(0.923 0.003 48.717);

  --primary-foreground: oklch(0.216 0.006 56.043);

  --secondary: oklch(0.268 0.007 34.298);

  --secondary-foreground: oklch(0.985 0.001 106.423);

  --muted: oklch(0.268 0.007 34.298);

  --muted-foreground: oklch(0.709 0.01 56.259);

  --accent: oklch(0.268 0.007 34.298);

  --accent-foreground: oklch(0.985 0.001 106.423);

  --destructive: oklch(0.704 0.191 22.216);

  --border: oklch(1 0 0 / 10%);

  --input: oklch(1 0 0 / 15%);

  --ring: oklch(0.553 0.013 58.071);

  --chart-1: oklch(0.488 0.243 264.376);

  --chart-2: oklch(0.696 0.17 162.48);

  --chart-3: oklch(0.769 0.188 70.08);

  --chart-4: oklch(0.627 0.265 303.9);

  --chart-5: oklch(0.645 0.246 16.439);

  --sidebar: oklch(0.216 0.006 56.043);

  --sidebar-foreground: oklch(0.985 0.001 106.423);

  --sidebar-primary: oklch(0.488 0.243 264.376);

  --sidebar-primary-foreground: oklch(0.985 0.001 106.423);

  --sidebar-accent: oklch(0.268 0.007 34.298);

  --sidebar-accent-foreground: oklch(0.985 0.001 106.423);

  --sidebar-border: oklch(1 0 0 / 10%);

  --sidebar-ring: oklch(0.553 0.013 58.071);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  /* Default system sans font and body reset */
  html {
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }
}

/* Protect inline logo colors and sizing from global SVG styles */
.site-logo {
  /* Fix: give the wrapper a definite responsive height so the svg can't
     grow past the header area or collapse. This avoids relying on Tailwind
     utilities being present at runtime and prevents the shield from
     growing disproportionately. */
  display: inline-flex;
  align-items: center;
  width: auto;
  height: 4.8rem !important; /* scaled 1.6x (was 3rem) */
  max-height: 4.8rem !important;
  vertical-align: middle;
  overflow: visible; /* don't clip svg shadows/overhangs */
}

@media (min-width: 640px) {
  .site-logo {
    height: 6.4rem !important; /* scaled 1.6x (was 4rem) */
    max-height: 6.4rem !important;
  }
}

@media (min-width: 768px) {
  .site-logo {
    height: 8rem !important; /* scaled 1.6x (was 5rem) */
    max-height: 8rem !important;
  }
}

/* Ensure the inline SVG inside the wrapper always has a visible
   height even if Tailwind height utilities are missing at runtime. */
.site-logo svg {
  /* The svg should fill the wrapper height and keep its aspect ratio. */
  height: 100%;
  width: auto;
  max-height: 100%;
  display: block;
}

/* Ensure any img fallback also respects wrapper height and scales cleanly */
.site-logo img {
  height: 100%;
  width: auto;
  max-height: 100%;
  display: block;
  object-fit: contain;
}

/* Defensive fallbacks: if responsive Tailwind utilities (eg. sm:inline, sm:flex)
   were not emitted into the compiled CSS, make sure the header title and the
   right-side controls remain visible. These rules are intentionally specific
   and low-risk (UI-only). */
.navbar-title {
  display: block !important;
  color: var(--foreground) !important;
  /* Keep a small right margin in fallback scenarios when the title is in the left area */
  margin-left: 1rem !important;
}
.navbar-right {
  display: flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  /* Ensure the right area doesn't let the logout button hit the viewport edge */
  padding-right: 2rem !important;
  box-sizing: border-box !important;
}

/* Temporary debug helpers: visually outline the logo wrapper so we can
   confirm the element is present and sized correctly in the page. Remove
   these once the issue is resolved. */
/* Debug outline removed â€” switched to inline debug on the Logo wrapper to
   avoid globally outlining other elements. */
.site-logo .shield {
  fill: #0d7a9b !important;
}
.site-logo .wordmark {
  /* wordmark color preserved */
  fill: #1c3f60 !important;
  stroke: none !important; /* prefer fill-only for predictable sizing */
  /* Use CSS transform on a grouped element so the glyphs scale as one unit.
     transform-box/fill-box makes transforms relative to the glyph bbox. Keep
     the scale modest so it doesn't overflow the header; tweak if you want
     a larger wordmark. */
  transform-box: fill-box;
  transform-origin: 0 50%;
  transform: translateX(0.5rem) scale(1.25);
}


/* Ensure the global content container keeps horizontal gutters even if a reset overrides utilities */
.site-container {
  /* match Tailwind: px-4 */
  padding-left: 1rem !important;
  padding-right: 1rem !important;
}

/* Responsive gutters to match px-4 sm:px-6 lg:px-8 */
@media (min-width: 640px) {
  .site-container {
    padding-left: 1.5rem !important; /* sm:px-6 */
    padding-right: 1.5rem !important;
  }
}

@media (min-width: 1024px) {
  .site-container {
    padding-left: 2rem !important; /* lg:px-8 */
    padding-right: 2rem !important;
  }
}
